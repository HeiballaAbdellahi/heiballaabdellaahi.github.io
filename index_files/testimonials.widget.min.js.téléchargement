(function(a,b){var d=a.jQuery||a.Cowboy||(a.Cowboy={}),e;d.throttle=e=function(a,e,g,h){function l(){function d(){m=+new Date;g.apply(p,q)}function l(){k=b}var p=this,n=+new Date-m,q=arguments;h&&!k&&d();k&&clearTimeout(k);h===b&&n>a?d():!0!==e&&(k=setTimeout(h?l:d,h===b?a-n:a))}var k,m=0;"boolean"!==typeof e&&(h=g,g=e,e=b);d.guid&&(l.guid=g.guid=g.guid||d.guid++);return l};d.debounce=function(a,d,g){return g===b?e(a,d,!1):e(a,g,!1!==d)}})(this);
$(document).ready(function(){tdio=document.getElementById("twoDivsInOne");ac=document.getElementById("animatedContent");ov=document.getElementById("overlayWrapper");initModel();data=appModel.testimonials;for(var a=[],b=0;b<data.length;b++)data[b].enabled&&a.push(data[b]);0<a.length&&(data=a);updateWidgetStyles();doStuffOnResize();$(window).resize($.throttle(50,doStuffOnResize));initOverlayRelated();showAndSchedule()});
function doStuffOnResize(){wWidth=$(window).width();wHeight=$(window).height();canAnimate&&showJustOneDiv();ac.style.width=c.Dw+"px";ac.style.height=c.Dh+"px"}
function initOverlayRelated(){document.getElementById("contributeYourOwn").onclick=function(){DEBUG&&console.log("About to openModal with myCompId: "+compId);Wix.openModal(MODAL_URL+"?instance="+instance+"&width="+MODAL_WIDTH+"&myCompId="+compId,MODAL_WIDTH,MODAL_HEIGHT);_gaq.push(["_trackEvent","TestimonialsWidget","openModal "+viewMode,siteInfo.url])};switch(layout){case 0:ov.style.borderRadius="0";break;case 1:ov.style.borderRadius="61px";break;case 2:ov.style.borderRadius="0";break;case 3:ov.style.borderRadius=
"20px";break;default:ov.style.borderRadius="0"}$("#outmostWrapper").hover(function(){pauseOnHover&&pause();if(showContributeOnHover){parseInt(3*Math.random(),10);$("#contributeYourOwn")[0].style.marginTop=c.Dh/2-15+"px",ov.style.display="block"}if(!wasHoveredOnce){wasHoveredOnce=!0;var a;a=""+pauseOnHover?"P":"";a=a+showContributeOnHover?"C":"";a=0<a.length?"Hovered "+viewMode+" "+a:"Hovered "+viewMode;_gaq.push(["_trackEvent","TestimonialsWidget",a,siteInfo.url])}},function(){pauseOnHover&&resume();
if(showContributeOnHover){parseInt(3*Math.random(),10);ov.style.display="none"}})}
function rd(a,b,d,e){void 0==a&&(a=399,DEBUG&&console.log("w was undefined!"));void 0==b&&(b=122,DEBUG&&console.log("h was undefined!"));void 0==d&&(d=1,DEBUG&&console.log("layout was undefined!"));void 0==e&&(e="",DEBUG&&console.log("cls was undefined!"));var f=!0;2<=d&&(f=!1,d-=2);a=parseInt(a,10);b=parseInt(b,10);80>=b&&(b=80);170<=b&&(b=170);1E3<=a&&(a=1E3);f?350>=a&&(a=350):240>=a&&(a=240);t=data[di];c.Dw=a;c.Dh=b;c.Iw=a-5;c.Ih=b-10;c.Im="5px 0 5px 5px";c.iw=c.ih=c.Ih;f||(c.iw=c.ih=0);c.tml=
5+c.ih;c.tw=a-c.tml-10;c.th=parseInt(0.598361*b,10)-2;c.tmb=2;c.Fpt=140<=b?6:112<=b?4:107<=b?3:100<=b?1:95<=b?6:5;c.Fml=c.iw;c.Fw=a-5;c.Fh=c.Ih-(c.Fpt+c.th);c.sml=5;160<=b?(c.Ffsi=17,c.qfsi=116,c.qmt=-86,c.qml=10):148<=b?(c.Ffsi=16,c.qfsi=109,c.qmt=-81,c.qml=10):140<=b?(c.Ffsi=15,c.qfsi=109,c.qmt=-81,c.qml=10):130<=b?(c.Ffsi=14,c.qfsi=104,c.qmt=-81,c.qml=10):118<=b?(c.Ffsi=13,c.qfsi=104,c.qmt=-81,c.qml=10):110<=b?(c.Ffsi=12,c.qfsi=104,c.qmt=-81,c.qml=10):100<=b?(c.Ffsi=12,c.qfsi=96,c.qmt=-75,c.qml=
10):(c.Ffsi=12,c.qfsi=62,c.qmt=-50,c.qml=15);c.Dbr=0;c.ibr=0;c.Fbblrx=0;c.Fbblry=0;100<=b?(c.cml=0,c.sd="block"):(c.cml=10,c.sd="inline");f||(c.Im="5px 0 5px 0",c.tml=5,c.sml=5,c.Fml=c.Fbblrx=c.Fbblry=0,c.tw=a-c.tml-5,c.Fw=a+10);1==d&&(c.Dbr=61,c.tw-=22,c.ibr=100,c.Fml=8,c.Fbblrx=150,c.Fbblry=100,c.sml=0,f||(c.tml=17,c.Fml=-5,c.sml=22,c.Fbblrx=c.Fbblry=0,c.Dbr=20));a=c.tw*c.th;c.Dfsi=a>=fontSizeThresholds[24]?24:a>=fontSizeThresholds[23]?23:a>=fontSizeThresholds[22]?22:a>=fontSizeThresholds[21]?21:
a>=fontSizeThresholds[20]?20:a>=fontSizeThresholds[19]?19:a>=fontSizeThresholds[18]?18:a>=fontSizeThresholds[17]?17:a>=fontSizeThresholds[16]?16:a>=fontSizeThresholds[15]?15:a>=fontSizeThresholds[14]?14:a>=fontSizeThresholds[13]?13:a>=fontSizeThresholds[12]?12:11;for(okey in oc)c[okey]=oc[okey];return'<div class="aaard '+e+'" style="width:'+c.Dw+"px;height:"+c.Dh+"px;"+backgroundStyle+";"+globalFontFamilyAndStyle+"font-size:"+c.Dfsi+"px;overflow:hidden;border-radius:"+c.Dbr+'px;"><div class="aaainner" style="width:'+
c.Iw+"px;height:"+c.Ih+"px;margin:"+c.Im+';"><div class="aaaimage" style="width:'+c.iw+"px;height:"+c.ih+"px;float:left;background-size:100%;background-repeat:no-repeat;background-image:url("+t.imageUrl+");border-radius:"+c.ibr+'px;"></div><div class="aaatext" style="'+textStyle+"margin-left:"+c.tml+"px;margin-bottom:"+c.tmb+"px;width:"+c.tw+"px;height:"+c.th+'px;overflow:hidden;">'+t.text+'</div><div class="aaafooter" style="'+footerBackgroundStyle+";width:"+c.Fw+"px;height:"+c.Fh+"px;margin-left:"+
c.Fml+"px;padding-top:"+c.Fpt+"px;font-size:"+c.Ffsi+"px;border-bottom-left-radius:"+c.Fbblrx+"px "+c.Fbblry+'px"><div class="aaafooterText" style="'+footerTextStyle+"margin-left:"+c.sml+'px;float:left;"><div class="aaaname" style="display:'+c.sd+'">'+t.name+'</div><div class="aaacompany" style="display:'+c.sd+";margin-left:"+c.cml+'px;">'+t.company+'</div></div><div class="aaadbquo" style="'+footerTextStyle+"font-family:Georgia;font-style:italic;font-size:"+c.qfsi+"px;margin:"+c.qmt+"px 0 0 "+c.qml+
'px;float:left;">&#132;</div></div></div></div>'}function createDivString(a){return rd(wWidth,wHeight,layout,a)}
var ac,tdio,ov,c={},oc={},data,di=0,canAnimate=!0,timeout=null,wWidth,wHeight,transitionDurationInMillis=1300,animationSpeedClassSuffix="1300",fadeOutDuration=100,fadeInDuration=300,sepWidth=50,sepHeight=50,layout=1,transitionDelayInMillis=5E3,whichAnim="animFade",showContributeOnHover=!1,pauseOnHover=!1,fontSizeThresholds={},globalFontFamilyAndStyle="",fratios={},textStyle="",footerTextStyle="",backgroundStyle="",footerBackgroundStyle="",MODAL_URL=APP_PATH+"testimonialsWidgetModal.php",MODAL_WIDTH=
498,MODAL_HEIGHT=531,wasHoveredOnce=!1,isPaused=!1;function Timer(a,b){var d,e,f=b;this.pause=function(){isPaused=!0;window.clearTimeout(d);f-=(new Date).getTime()-e};this.resume=function(){isPaused=!1;e=(new Date).getTime();d=window.setTimeout(a,f)};isPaused||this.resume()}function pause(){isPaused=!0;null!=timeout&&timeout.pause()}function resume(){isPaused=!1;null!=timeout&&timeout.resume()}
function getRgbaString(a,b){if(0==a.indexOf("#")){var d=[];if(4==a.length)d=/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(a),d[1]+=""+d[1],d[2]+=""+d[2],d[3]+=""+d[3];else if(7==a.length)d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);else return a;return"rgba("+parseInt(d[1],16)+","+parseInt(d[2],16)+","+parseInt(d[3],16)+","+b+")"}if(0==a.indexOf("rgb(")&&a.indexOf(")")==a.length-1)return d=a.substr(4,a.length-5).split(","),"rgba("+parseInt(d[0],10)+","+parseInt(d[1],10)+","+parseInt(d[2],
10)+","+b+")";console.log("ERROR colorAsHexOrRGB: "+a+" opacity: "+b);return a}function getTransitionEffectFromTransitionEffect(a){var b=a.indexOf("(");return-1==b?a:a.substr(0,b).trim()}
function updateWidgetStyles(){var a=appModel.settings;transitionDelayInMillis=1E3*a.transitionDelay;layout=getLayout();showContributeOnHover=appModel.settings.contributeOnHoverCB;pauseOnHover=appModel.settings.pauseOnHoverCB;var b=1300,d=100,e=300;switch(a.transitionEffectSpeed){case "Slow":b=2500;d=300;e=900;break;case "Fast":b=500;d=100;e=300;break;default:b=1300,d=200,e=600}switch(getTransitionEffectFromTransitionEffect(a.transitionEffect)){case "None":whichAnim="animNone";break;case "Slide Left":whichAnim=
"animLeft";animationSpeedClassSuffix=""+b;transitionDurationInMillis=b;break;case "Slide Right":whichAnim="animRight";animationSpeedClassSuffix=""+b;transitionDurationInMillis=b;break;case "Slide Up":whichAnim="animUp";animationSpeedClassSuffix=""+b;transitionDurationInMillis=b;break;case "Slide Down":whichAnim="animDown";animationSpeedClassSuffix=""+b;transitionDurationInMillis=b;break;default:whichAnim="animFade",fadeOutDuration=d,fadeInDuration=e}DEBUG&&console.log(a.transitionEffect+" => "+whichAnim+
" "+animationSpeedClassSuffix+" "+transitionDurationInMillis);backgroundStyle="background:"+getRgbaString(a.backgroundColor,a.backgroundColorCB?a.backgroundColorSlider:1);footerBackgroundStyle="background:"+getRgbaString(a.footerBackgroundColor,a.footerBackgroundColorCB?a.footerBackgroundColorSlider:1);globalFontFamilyAndStyle="font-family:"+a.fontFamily+";font-style:italic;";textStyle="color:"+a.textColor+";";footerTextStyle="color:"+a.footerTextColor+";";fontSizeThresholds={Arial:{11:0,12:0,13:15241,
14:17802,15:18466,16:21300,17:23976,18:26597,19:3E4,20:36155,21:41686,22:46595,23:52070,24:58536},Calibri:{11:0,12:0,13:13733,14:15533,15:16468,16:18868,17:22172,18:23172,19:26150,20:32226,21:5E4,22:999999,23:999999,24:999999},"Century Schoolbook":{11:0,12:0,13:15800,14:19233,15:20189,16:23069,17:26262,18:28451,19:31819,20:38840,21:44780,22:49720,23:55851,24:62245},"Courier New":{11:0,12:14E3,13:18200,14:2E4,15:22E3,16:24E3,17:27E3,18:29E3,19:32E3,20:4E4,21:5E4,22:999999,23:999999,24:999999},Garamond:{11:0,
12:0,13:0,14:12500,15:13500,16:14500,17:15E3,18:15500,19:17500,20:19E3,21:21E3,22:23E3,23:28E3,24:33E3},Georgia:{11:0,12:0,13:16300,14:18500,15:19500,16:22E3,17:25500,18:27E3,19:3E4,20:37E3,21:42500,22:47E3,23:53E3,24:59E3},Helvetica:{11:0,12:0,13:15241,14:17802,15:18466,16:21300,17:23976,18:26597,19:3E4,20:36155,21:41686,22:46595,23:52070,24:58536},Palatino:{11:0,12:0,13:14214,14:16964,15:17708,16:19936,17:23535,18:25509,19:27546,20:34016,21:39569,22:44048,23:49281,24:55292},Tahoma:{11:0,12:0,13:14407,
14:17313,15:18122,16:21116,17:23656,18:28E3,19:31E3,20:35060,21:40220,22:44800,23:50396,24:55888},"Times New Roman":{11:0,12:0,13:14214,14:16964,15:17708,16:19936,17:23535,18:25509,19:27546,20:34016,21:39569,22:44048,23:49281,24:55292},Verdana:{11:0,12:13600,13:16525,14:19792,15:23300,16:25E3,17:27705,18:28813,19:32454,20:40282,21:45431,22:51341,23:57711,24:63437}}[a.fontFamily]}
function showJustOneDiv(){tdio.style.width=c.Dw+"px;";tdio.style.height=c.Dh+"px;";tdio.className="";tdio.style.marginLeft=tdio.style.marginTop="0px";tdio.innerHTML=createDivString("")}function showAndSchedule(){showJustOneDiv();canAnimate=!0;1<data.length&&(timeout=new Timer(function(){doAnim(whichAnim)},transitionDelayInMillis))}
function doAnim(a){if(canAnimate)canAnimate=!1;else return!1;if("animFade"==a)$(tdio).fadeOut(fadeOutDuration,function(){di=(di+1)%data.length;var a=createDivString("");$(tdio).html(a);$(tdio).fadeIn(fadeInDuration,showAndSchedule)});else if("animNone"==a){$(tdio).empty();di=(di+1)%data.length;var b=createDivString("");$(tdio).html(b);$(tdio).show(showAndSchedule)}else{var d="animLeft"==a||"animRight"==a?"fl":"";di>=data.length&&(di=0);var e=createDivString(d+" DEBUG1");di=(di+1)%data.length;b=createDivString(d+
" DEBUG2");d='<div style="width:'+sepWidth+"px;height:"+sepHeight+'px;" class="'+d+'"></div>';tdio.style.width="animLeft"==a||"animRight"==a?2*c.Dw+sepWidth+"px":c.Dw+"px";tdio.style.height="animUp"==a||"animDown"==a?2*c.Dh+sepHeight+"px":c.Dh+"px";tdio.innerHTML="animDown"==a||"animRight"==a?b+d+e:e+d+b;tdio.className="";switch(a){case "animLeft":tdio.style.marginLeft="0px";break;case "animRight":tdio.style.marginLeft=-c.Dw-sepWidth+"px";break;case "animUp":tdio.style.marginTop="0px";break;case "animDown":tdio.style.marginTop=
-c.Dh-sepHeight+"px"}setTimeout(function(){tdio.className="animated-"+animationSpeedClassSuffix;switch(a){case "animLeft":tdio.style.marginLeft=-c.Dw-sepWidth+"px";break;case "animRight":tdio.style.marginLeft="0px";break;case "animUp":tdio.style.marginTop=-c.Dh-sepHeight+"px";break;case "animDown":tdio.style.marginTop="0px"}setTimeout(showAndSchedule,transitionDurationInMillis)},100)}};
